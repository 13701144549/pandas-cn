# v0.24.2（2019年3月12日）

<div class="warning-warp">
<b>警告</b><p>The 0.24.x series of releases will be the last to support Python 2. Future feature releases will support Python 3 only. See <a href="https://Pandas.pydata.org/Pandas-docs/stable/install.html#install-dropping-27">Plan for dropping Python 2.7 </a> for more.</p>
</div>

These are the changes in Pandas 0.24.2. See [Release Notes](https://Pandas.pydata.org/Pandas-docs/stable/whatsnew/index.html#release) for a full changelog including other versions of Pandas.

## Fixed Regressions

* Fixed regression in [DataFrame.all()](../reference/api/Pandas.DataFrame.all.html#Pandas.DataFrame.all "Pandas.DataFrame.all") and [DataFrame.any()](../reference/api/Pandas.DataFrame.any.html#Pandas.DataFrame.any "Pandas.DataFrame.any") where bool_only=True was ignored ([GH25101](https://github.com/Pandas-dev/Pandas/issues/25101))
* Fixed issue in DataFrame construction with passing a mixed list of mixed types could segfault. ([GH25075](https://github.com/Pandas-dev/Pandas/issues/25075))
* Fixed regression in [DataFrame.apply()](../reference/api/Pandas.DataFrame.apply.html#Pandas.DataFrame.apply "Pandas.DataFrame.apply") causing RecursionError when dict-like classes were passed as argument. ([GH25196](https://github.com/Pandas-dev/Pandas/issues/25196))
* Fixed regression in [DataFrame.replace()](../reference/api/Pandas.DataFrame.replace.html#Pandas.DataFrame.replace "Pandas.DataFrame.replace") where regex=True was only replacing patterns matching the start of the string ([GH25259](https://github.com/Pandas-dev/Pandas/issues/25259))
* Fixed regression in [DataFrame.duplicated()](../reference/api/Pandas.DataFrame.duplicated.html#Pandas.DataFrame.duplicated "Pandas.DataFrame.duplicated"), where empty dataframe was not returning a boolean dtyped Series. ([GH25184](https://github.com/Pandas-dev/Pandas/issues/25184))
* Fixed regression in [Series.min()](../reference/api/Pandas.Series.min.html#Pandas.Series.min "Pandas.Series.min") and [Series.max()](../reference/api/Pandas.Series.max.html#Pandas.Series.max "Pandas.Series.max") where numeric_only=True was ignored when the Series contained Categorical data ([GH25299](https://github.com/Pandas-dev/Pandas/issues/25299))
* Fixed regression in subtraction between [Series](../reference/api/Pandas.Series.html#Pandas.Series "Pandas.Series") objects with datetime64[ns] dtype incorrectly raising OverflowError when the Series on the right contains null values ([GH25317](https://github.com/Pandas-dev/Pandas/issues/25317))
* Fixed regression in [TimedeltaIndex](../reference/api/Pandas.TimedeltaIndex.html#Pandas.TimedeltaIndex "Pandas.TimedeltaIndex") where np.sum(index) incorrectly returned a zero-dimensional object instead of a scalar ([GH25282](https://github.com/Pandas-dev/Pandas/issues/25282))
* Fixed regression in IntervalDtype construction where passing an incorrect string with ‘Interval’ as a prefix could result in a RecursionError. ([GH25338](https://github.com/Pandas-dev/Pandas/issues/25338))
* Fixed regression in creating a period-dtype array from a read-only NumPy array of period objects. ([GH25403](https://github.com/Pandas-dev/Pandas/issues/25403))
* Fixed regression in [Categorical](../reference/api/Pandas.Categorical.html#Pandas.Categorical "Pandas.Categorical"), where constructing it from a categorical Series and an explicit categories= that differed from that in the Series created an invalid object which could trigger segfaults. ([GH25318](https://github.com/Pandas-dev/Pandas/issues/25318))
* Fixed regression in [to_timedelta()](../reference/api/Pandas.to_timedelta.html#Pandas.to_timedelta "Pandas.to_timedelta") losing precision when converting floating data to Timedelta data ([GH25077](https://github.com/Pandas-dev/Pandas/issues/25077)).
* Fixed pip installing from source into an environment without NumPy ([GH25193](https://github.com/Pandas-dev/Pandas/issues/25193))
* Fixed regression in [DataFrame.replace()](../reference/api/Pandas.DataFrame.replace.html#Pandas.DataFrame.replace "Pandas.DataFrame.replace") where large strings of numbers would be coerced into int64, causing an OverflowError ([GH25616](https://github.com/Pandas-dev/Pandas/issues/25616))
* Fixed regression in [factorize()](../reference/api/Pandas.factorize.html#Pandas.factorize "Pandas.factorize") when passing a custom na_sentinel value with sort=True ([GH25409](https://github.com/Pandas-dev/Pandas/issues/25409)).
* Fixed regression in [DataFrame.to_csv()](../reference/api/Pandas.DataFrame.to_csv.html#Pandas.DataFrame.to_csv "Pandas.DataFrame.to_csv") writing duplicate line endings with gzip compress ([GH25311](https://github.com/Pandas-dev/Pandas/issues/25311))

## Bug Fixes

### I/O

- Better handling of terminal printing when the terminal dimensions are not known (GH25080)
- Bug in reading a HDF5 table-format DataFrame created in Python 2, in Python 3 (GH24925)
- Bug in reading a JSON with orient='table' generated by DataFrame.to_json() with index=False (GH25170)
- Bug where float indexes could have misaligned values when printing (GH25061)

### Reshaping

- Bug in transform() where applying a function to a timezone aware column would return a timezone naive result (GH24198)
- Bug in DataFrame.join() when joining on a timezone aware DatetimeIndex (GH23931)

### Visualization

- Bug in Series.plot() where a secondary y axis could not be set to log scale (GH25545)

### Other

- Bug in Series.is_unique() where single occurrences of NaN were not considered unique (GH25180)
- Bug in merge() when merging an empty DataFrame with an Int64 column or a non-empty DataFrame with an Int64 column that is all NaN (GH25183)
- Bug in IntervalTree where a RecursionError occurs upon construction due to an overflow when adding endpoints, which also causes IntervalIndex to crash during indexing operations (GH25485)
- Bug in Series.size raising for some extension-array-backed Series, rather than returning the size (GH25580)
- Bug in resampling raising for nullable integer-dtype columns (GH25580)

### Contributors

A total of 25 people contributed patches to this release. People with a “+” by their names contributed a patch for the first time.

- Albert Villanova del Moral
- Arno Veenstra +
- chris-b1
- Devin Petersohn +
- EternalLearner42 +
- Flavien Lambert +
- gfyoung
- Gioia Ballin
- jbrockmendel
- Jeff Reback
- Jeremy Schendel
- Johan von Forstner +
- Joris Van den Bossche
- Josh
- Justin Zheng
- Kendall Masse
- Matthew Roeschke
- Max Bolingbroke +
- rbenes +
- Sterling Paramore +
- Tao He +
- Thomas A Caswell
- Tom Augspurger
- Vibhu Agarwal +
- William Ayd
- Zach Angell